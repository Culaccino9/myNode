# 物理层

主要就是为了解决在各种`传输媒体`上传输`比特0和1`的问题。

进而给`数据链路层`提供`透明`传输比特流的服务。

透明指的是：数据链路层看不见也无需看见`物理层`究竟使用的是什么方法来传输`0和1`的。只管享受物理层提供的传输服务即可。

# 1.物理层的基本概念

在计算机网络中，用来连接各种网络设备的传输媒体种类众多。

大致分为**两类：**

- 导引型传输媒体 
- 非导引型传输媒体

**物理层协议的主要任务：**

- 机械特性
  - 指明`接口`所用`接线器`的`形状和尺寸`。
  - `引脚数目`和`排列、固定、锁定`装置。
- 电气特性
  - 指明在接口电缆的各条线上出现的`电压范围`。
- 功能特性
  - 指明某条线上出现的某一电平的`电压表示何种意义`
- 过程特性
  - 指明对于不同功能的各种可能`事件的出现顺序`



# 2.物理层下面的传输媒体

不属于计算机网络体系结构的任一层。

分为两类：导引型传输媒体、非导引型传输媒体

**导引型传输媒体：（一般指物理连接）**

1. 同轴电缆
   1. 基带同轴电缆（50Ω）：`数字传输`，早期局域网中广泛使用。
   2. 宽带同轴电缆（75Ω）：`模拟传输`，目前用于有线电视的入户线。
   3. 同轴电缆`价格贵`且`布线不灵活`，随着`集线器`的出现，在`局域网领域`基本上都是采用`双绞线`作为传输媒体。
2. 双绞线
   1. 绞合的作用：抵御`外界电磁波`和`相邻导线`的干扰
3. 光纤
   1. 通信容量大（25000~30000GHz带宽）
   2. 传输损耗小，远距离传输更加经济
   3. 抗雷电和电磁干扰性能好
   4. 无传音干扰，保密性好
   5. 体积小，重量轻
   6. 割接需要专用设备
   7. 光电接口贵
4. 电力线

**非导引型传输媒体（无线电波）**

长波到米波，被称为无线电波

频率越高，波长越短，穿透能力越强

一般的无线电波需要经过专业部门批准，除了`ISM`，也就是`工业、科学、医疗`

1. 无线电波
2. 微波
3. 红外线
4. 可见光



# 3.传输方式

## 3.1.串行传输和并行传输

**串行传输：**

- 数据是一个比特一个比特发送的
- 因此只需要一条传输线路即可

**并行传输：**

- 一次发送N个比特
- 因此发送端和接收端之间需要有N条传输线路

优点：速度是`串行传输`的的N倍

缺点：成本高



在计算机网络中，数据在`传输线路`上的传输是`串行传输`

计算机内部的传输，采用`并行传输`传输方式（例：`CPU和内存之间通过总线进行传输`）

**常见的数据总线宽度有8位，16位，32位，64位。**



## 3.2.同步传输和异步传输

**同步传输：**

- `数据块`以稳定的比特流的形式传输，字节之间`没有间隔`。
- `接收端`在每个比特信号的中间时刻进行检测，已判别接受到的是`比特0`还是`比特1`。

由于不同设备的`时钟频率`存在一定差异，不可能做到完全相同，在传输大量数据的过程中，产生的判别时刻的累计误差，会导致`接收端`对比特信号的判别`错位`。因此，需要采取方法使`收发双发`的始终保持`同步`。

这种方法一般有两种：

1. 外同步：在收发双方之间添加一条单独的时钟信号线。发送端在发送数据信号的同时，另外发送一路`时钟同步信号`，接收端按照时钟同步信号的节奏来接收数据。
2. 内同步：`发送端`将时钟同步信号编码到发送数据中一起传输。

**异步传输：**

- 以`字节`为独立的传输单位
- 字节之间的`时间间隔`不是固定的
- `接收端`仅在每个字节的`起始处`对字节内的`比特实现同步`
- 为此，要在每个字节前后分别加上`起始位`和`结束位`

异步是指`字节`之间异步，也就是字节中的每个时间间隔不固定。但字节中的每个比特任然要同步。各比特之间的时间是相同的。



## 3.3.单工、半双工和全双工

**单工通信：**

- 又称单向通信。

- 通信双方只有一个传输方向，例如：无线广播。

**半双工：**

- 又称双向交替通信。

- 通信双方可以相互传输数据，但是不能同时进行，如：对讲机。

- 只需要一条信道。

**全双工：**

- 又称双向同时通信。

- 通信双方可以同时发送和接受信息。例：电话。
- 都需要两条信道，每个方向各一条。



# 4.编码与调制

消息====>数据====>信号（电信号）====>基带信号（分为数字基带信号、模拟基带信号）

1. 在计算机网络中，计算机需要处理和传输用户的文字、图片、音频、视频。这些统称为**消息**。
2. **数据**是运送**消息**的实体，人类可读熟悉的是`十进制数据`。计算机只能处理`二进制数据`，也就是比特1和比特0。
3. 计算机的`网卡`将**数据（二进制）**变成相应的**电信号**发送到网线。（`信号是数据的电磁表现`）
4. 信号源发出的原始信号称为**基带信号**。基带信号分为两类：
   1. 数字基带信号：例如：计算机内部CPU和内存之间传输的信号。
   2. 模拟基带信号：例如：麦克风收到声音产生的音频信号。

信道分为：

- 数字信道

在不改变信号性质的前提下，仅对数字基带信号的波形进行变换，称为`编码`。编码后产生的信号仍为数字信号。可以在`数字信道`中传输。

`wifi`使用补码键控、直接序列扩频、正交频分复用，对`数字基带信号`进行`调制`。调制后的信号可以在`模拟信道`中传输。

- 模拟信道 

调制：传统的电话、`频分复用FDM技术`。

严格来讲：传输媒体和信道不能划等号。

## 4.1.码元

在使用时间域的波形表示数字信号时，代表不同`离散数值的基本波形`，称为码元。

**简单来讲：码元就是构成信号的一段波形。**



## 4.2.编码

因为不归零编码存在同步问题，归零编码自同步，但是编码效率低。

**曼彻斯特编码：**传统以太网采用的编码

码元中间时刻的跳变即表示时钟，又表示数据，即：正跳变表示1，负跳变表示0。（不绝对）

**差分曼彻斯特编码：**变化少，更适合较高的传输速率

跳变仅表示始终，码元开始处电平是否发生变化表示数据。例：发生变化表示1，不发生变化表示0。（不绝对）



### 4.3.编码与调制

**基本调制方法：（二元调制，1个码元只能产生1个比特的信息量）**

- 数组基带信号
- 调幅AM
- 调频FM
- 调相PM

使用基本调制方法，1个码元只能包含1个比特信息。要想1个比特包含更多的信息，可以采用`混合调制`的方法。

**混合调制：（多元调制）**

频率和相位是相关的。**频率是相位随时间的变化率**。所以，一次只能调制频率和相位中的一个。

通常情况下，相位和振幅可以结合起来一起调制。称为`正交振幅调制QAM`。

- `QAM-16`

12种相位。每种有1或2种振幅可选。可以调制出16种码元（波形），每种码元可以表示4个比特。



# 5.信道的极限容量

输入信号波形===>通信质量较好的信道===>输出波形（失真）

失真不严重可识别，失真严重，无法识别。

产生失真原因：

- 码元传输速率
- 信号传输距离
- 噪声干扰
- 传输媒体质量

**奈氏准则**：在假定理想条件下，为了避免码间串扰，码元传输速率是有上限的。

理想低通信道最高码元传输速率=`2W Baud`    即：`2W 码元/秒`

理想带通信道最高码元传输速率=`W Baud`    即：`W 码元/秒`

`W：信道带宽（单位Hz）`    `Baud：波特，码元/秒`

- 码元传输速率又称为波特率、调制速率、波形速率或符号速率，与比特率有一定关系
  - 一个码元携带1比特信息量时，波特率（码元/秒）与比特率（比特/秒）在数值上是相等的。
  - 一个码元携带n比特信息量时，波特率转成比特率，数值要乘以N。
- 提高信息传输速率（比特率），设法使每一个码元携带更多个比特的信息量，需要采用`多元制`
- 实际的信道传输最高码元速率，要明显低于奈氏准则给出的这个上限数值

**香农公式：**带宽受限且有高斯白噪声干扰的信道的极限信息传输速率

`C = W * log 2为底(1+ S/N)`

- C：信道的极限信息传输速率（b/s）
- W：信道带宽（Hz）
- S：信道内所传信号的平均功率
- N：信道内的高斯噪声功率
- S/N：信噪比，使用分贝（dB）作为度量单位
  - dB = 10 X log 10为底 （S/N）



