# 1.因特网概述

## 1.1.**网络、互联网（互连网）、因特网**

- **网络：Network**

  - 由若干`结点(Node)`和连接这些结点的`链路(link)`组成。
  - **结点：**比如，笔记本电脑、台式电脑、网络打印机、交换机等。
  - **链路：**这些`节点`互相连接之间称为`链路`
  - **网络：**这些节点与链路称为网络

  ```js
  /*				   链路
  			结点----------结点
  			|			   |
  			|			   |
  			|			   |
  			|			   |链路
  			|			   |
  			|			   |
  			|			   |
  			--------------结点
  			
  		以上就是一个网络
  */
  ```

- **互连网（internet || Network of Network）**

  - 多个`网络`通过`路由器`连接起来，就形成了一个覆盖范围更广的网络，就叫`互连网`
  - 所以，互连网可以说是：**网络的网络**

- **因特网（Internet）**

  - 是世界上最大的网络，用户数以亿计。

- `internet`和`Internet`的区别：
  - `internet`泛指多个计算机网络互联而成的网络，这些网络之间的**通信协议是固定的**
  - `Internet`是一个专有名词，指全球最大的、开放的、自由的众多网络连接而成的特定计算机网络。他采用 **TCP/IP** 协议族作为通信的规则，前身是`ARPANET`



### **1.1.1.Internet发展三个阶段**

- 单个网络`ARPANET`向互连网发展
  - `1969`年，第一个分组交换网`ARPANET`
  - `70年代中期`，研究多种网络之间的互联
  - `1983年`，`TCP/IP协议`称为`ARPANET`的标准协议（**因特网的诞生时间**）
- 逐步建成`三级结构的因特网`
  - `1985年`，NSF围绕六个大型计算机建设`NSFNET`（主干网、地区网、校园网）
  - `1990年`，ARPANET任务完成，正式关闭
  - `1991年`，美国政府将因特网主干网交给私人公司经营，并对接入因特网的单位收费
- 逐渐形成了`多层次ISP`结构的因特网
  - `1993年`，`NSFET`逐渐被若干个商用因特网主干网替代，政府也让各种`因特网提供者ISP`来运营
  - `1994年`，`万维网WWW技术`促使因特网迅速发展
  - `1995年`，NSFNET停止运作，因特网彻底商业化

#### 1.1.1.1.ISP

**ISP（Internet Service Provider）**  **因特网服务提供者（运营商）**如：电信、联通、移动

我们是通过许多`ISP`接入到因特网的，`ISP`可以从因特网管理机构申请到成块的`IP地址`，同时拥有：

`路由器`、`通信线路`等**联网设备**

机构和个人向`IPS`缴纳一定费用得到`IP地址`

<div style="background:red;color:#fff;text-align:center">因特网上所有主机都必须要有IP地址才能进行通信！！</div>



## 1.2.因特网的标准化工作

因特网所有的`RFC(Request For Comments)`技术文档[下载地址:http://www.ietf.org/rfc.html]("http://www.ietf.org/rfc.html")

**因特网协会ISOC**是国际性组织



## 1.3.因特网的组成

- **边缘部分：用户**
  - 所有连接在因特网的`主机`组成，这部分是由`用户直接使用`，用来进行`通信（传输数据、音频）`，如：手机、电脑等
- **核心部分：设备**     为边缘部分提供服务，提供连通性和交换
  - 由大量网络和连接和连接这些网络的`路由器`组成。

**路由器：**

- 解释：是一种专用计算机。
- 作用：实现分组交换。
- 任务：转发收到的分组。是网络核心部分最重要的内容



# 2.三种交换方式

## 2.1.电路交换 Circuit Switching

- 电话交换机接通电话线的方式称为`电路交换`。
- 从通信资源的分配角度来看，`交换（Switching）`就是按照某种方式`动态`的分配`传输线路`的资源。
- 电路交换的三个步骤：
  - `建立连接`（分配通信资源）：`物理连接`，双方通信时`不会`被其他资源占用
  - `通话`（一直占用通信资源）：主叫和被叫双方`互相`通电话。第一步`建立连接`的资源`始终`被占用
  - `释放连接`（归还通信资源）：把刚才占用的`所有`通信资源`归还`给`电信网`。

![电路交换](https://github.com/Culaccino9/myNode/blob/main/img/%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2.png)

如果用`电路交换`来做`网络传输`，效率极其低，因为网络传输是`突发式`的，用户的编辑等会一直占用资源。所以`计算机网络`通常采用`分组交换`



## 2.2.分组交换 Packet Switching

在`因特网`中，`最重要`的的`分组交换机`是`路由器`。它负责`将各种网络互连起来`，并对接收到的分组进行`转发`。

场景：

如果一个用户主机向另一个用户主机`发送数据`，那么我们把表示`该消息的整块数据`称为一个`报文`。

**报文：**

- 发送报文之前，会把报文划分为一个个`更小`的**等长**`数据段`。
- 在每个`数据段`前加上有必要的`控制信息`组成的`首部`，就构成了一个`分组`，这个分组成为**包**。首部也可以称为**包头**。
  - **首部的作用：**
  - 其中包含了分组的`路径地址`。这个路径地址交给`交换机（路由器）`，这样交换机才依据分组转发数据。
  - 分组交换机收到一个分组后，将`分组暂时存储`下来，按照`首部的地址`进行`查表转发`。找到合适的`转发接口`，通过该接口转发给下一个`分组交换机`。

`接受数据的用户主机`，收到分组后，会去掉他们的`首部`。将各数据段组合还原`原始报文`。

分组中可能存在：`丢失`、`误码`、`重复`等问题。在后张篇会介绍。

![分组交换](https://github.com/Culaccino9/myNode/blob/main/img/%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2.png)

## 2.3.报文交换

报文交换主要用于早期的电报通信网，现在`较少`使用，通常被先进的`分组交换`所取代。



## 2.4.三者对比

**电路交换：**

1. 一定要事先建立连接
2. 利用建立的连接发送报文
3. 释放建立的连接

特点：中间各节点交换机是直通形式连接的，比**特流可以直达终点。**传大数据有优势

**优点：**

- 通信时延小：通信线路为通信双方专用，数据直达。适合连续传输大量数据
- 有序传输：只有一条专用线路
- 没有冲突：不会出现争用物理信道的问题
- 适用范围广：适用于传输模拟信号，也适用于传输数字信号
- 实时性强：因为时延小
- 控制简单：节点交换机比较简单。

**缺点：**

- 建立连接时间长
- 线路独占，使用效率低
- 灵活性差，一有错就哦豁
- 难以规格化，难以差错控制



**报文交换：**

可以随时发送报文，不需要事先建立连接

1. 整个报文先传送到`相邻`结点交换机
2. 全部`存储`下来后进行`查表转发`
3. 利用的是各`节点交换机`的转发

特点：`报文`会在`结点`存储转发（需要结点需要**较大的缓存空间**）

**优点：**

- 无需建立连接
- 动态分配线路
- 提高线路可靠性，某一条线路有错误，灵活选择另外一条
- 提高线路利用率
- 提供多目标服务

**缺点：**

- 引起了转发时延：因为存储转发
- 需要较大的缓存空间
- 需要传输额外的信息量：要携带目标地址、源地址



**分组交换：**（这货传输的分组是等长的，便于管理，提高效率）

可以随时`发送分组`，不需要事先`建立连接`

1. 构成原始报文的一个个分组，依次在各`结点`交换机上`存储转发`
2. 各`结点交换机`在发送分组的同时，还`缓存`接受到的分组。

特点：构成`原始报文`的一个个分组，在结点交换机上进行`存储转发`。**有利于差错控制，减少报文长时间占用链路**

**优点：**

- 无需建立连接
- 线路利用率高
- 简化了存储管理（相对报文交换）
- 加速传输
- 减少出错概率和重发数据量

**缺点：**

- 引起了转发时延
- 需要传输额外的信息量
- 对于数据报服务，存在失序、丢失、重复分组的问题
- 对于虚电路服务，存在呼叫建立、数据传输和虚电路释放三个过程